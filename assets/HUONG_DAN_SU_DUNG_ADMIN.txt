ğŸ¯ HÆ¯á»šNG DáºªN Sá»¬ Dá»¤NG TÃNH NÄ‚NG ADMIN - MOVIEPLUS
====================================================

ğŸ“‹ Tá»”NG QUAN TÃNH NÄ‚NG
=====================

âœ… ÄÃ£ hoÃ n thÃ nh tÃ­nh nÄƒng phÃ¢n quyá»n Admin/User vá»›i cÃ¡c chá»©c nÄƒng:

ğŸ” **TÃ i khoáº£n Admin máº·c Ä‘á»‹nh:**
- Email: admin@gmail.com
- Password: Admin@123
- Role: Admin

ğŸ‘¤ **TÃ i khoáº£n User thÆ°á»ng:**
- Táº¥t cáº£ user Ä‘Äƒng kÃ½ má»›i sáº½ cÃ³ role "User"
- CÃ³ thá»ƒ Ä‘Æ°á»£c Admin nÃ¢ng cáº¥p lÃªn Admin

ğŸ› ï¸ **TÃ­nh nÄƒng Admin Dashboard:**

1. **Quáº£n lÃ½ ngÆ°á»i dÃ¹ng:**
   - Xem danh sÃ¡ch táº¥t cáº£ ngÆ°á»i dÃ¹ng
   - TÃ¬m kiáº¿m ngÆ°á»i dÃ¹ng theo email/tÃªn
   - Lá»c ngÆ°á»i dÃ¹ng theo role (Admin/User)
   - Xem chi tiáº¿t thÃ´ng tin ngÆ°á»i dÃ¹ng
   - Thay Ä‘á»•i role ngÆ°á»i dÃ¹ng (User â†” Admin)
   - XÃ³a ngÆ°á»i dÃ¹ng

2. **Thá»‘ng kÃª há»‡ thá»‘ng:**
   - Tá»•ng sá»‘ ngÆ°á»i dÃ¹ng
   - Sá»‘ lÆ°á»£ng Admin vs User
   - Thá»‘ng kÃª favorites, watchlists, notes
   - NgÆ°á»i dÃ¹ng má»›i trong 7 ngÃ y gáº§n Ä‘Ã¢y

3. **Báº£o máº­t:**
   - Chá»‰ Admin má»›i truy cáº­p Ä‘Æ°á»£c Admin Dashboard
   - Admin khÃ´ng thá»ƒ xÃ³a chÃ­nh mÃ¬nh
   - Admin khÃ´ng thá»ƒ thay Ä‘á»•i role cá»§a chÃ­nh mÃ¬nh

ğŸ“± CÃCH Sá»¬ Dá»¤NG TRONG FLUTTER APP
================================

ğŸ”¹ **ÄÄƒng nháº­p vá»›i tÃ i khoáº£n Admin:**
1. Má»Ÿ á»©ng dá»¥ng Flutter
2. Nháº¥n "ÄÄƒng nháº­p"
3. Nháº­p email: admin@gmail.com
4. Nháº­p password: Admin@123
5. Nháº¥n "ÄÄƒng nháº­p"

ğŸ”¹ **Truy cáº­p Admin Dashboard:**
1. Sau khi Ä‘Äƒng nháº­p, vÃ o tab "Profile" (cuá»‘i cÃ¹ng bÃªn pháº£i)
2. Báº¡n sáº½ tháº¥y nÃºt "Admin Dashboard" mÃ u Ä‘á» á»Ÿ Ä‘áº§u danh sÃ¡ch
3. Nháº¥n vÃ o "Admin Dashboard"

ğŸ”¹ **Quáº£n lÃ½ ngÆ°á»i dÃ¹ng:**
1. Trong Admin Dashboard, nháº¥n "User Management"
2. Xem danh sÃ¡ch táº¥t cáº£ ngÆ°á»i dÃ¹ng
3. Sá»­ dá»¥ng thanh tÃ¬m kiáº¿m Ä‘á»ƒ tÃ¬m ngÆ°á»i dÃ¹ng cá»¥ thá»ƒ
4. Sá»­ dá»¥ng dropdown "Filter by role" Ä‘á»ƒ lá»c theo Admin/User
5. Nháº¥n vÃ o menu 3 cháº¥m bÃªn pháº£i má»—i user Ä‘á»ƒ:
   - Thay Ä‘á»•i role
   - Xem chi tiáº¿t
   - XÃ³a user

ğŸ”¹ **Xem thá»‘ng kÃª:**
1. Trong Admin Dashboard, nháº¥n "Platform Stats"
2. Xem cÃ¡c thá»‘ng kÃª chi tiáº¿t vá» há»‡ thá»‘ng
3. Nháº¥n nÃºt refresh Ä‘á»ƒ cáº­p nháº­t dá»¯ liá»‡u má»›i nháº¥t

ğŸ–¥ï¸ CÃCH Sá»¬ Dá»¤NG API TRá»°C TIáº¾P
=============================

ğŸ”¹ **Endpoints Admin:**

1. **Láº¥y danh sÃ¡ch ngÆ°á»i dÃ¹ng:**
   ```
   GET /api/admin/users
   Headers: Authorization: Bearer <admin_token>
   ```

2. **Láº¥y thá»‘ng kÃª há»‡ thá»‘ng:**
   ```
   GET /api/admin/stats
   Headers: Authorization: Bearer <admin_token>
   ```

3. **Thay Ä‘á»•i role ngÆ°á»i dÃ¹ng:**
   ```
   PUT /api/admin/users/{userId}/role
   Headers: Authorization: Bearer <admin_token>
   Body: {"role": "Admin"} hoáº·c {"role": "User"}
   ```

4. **XÃ³a ngÆ°á»i dÃ¹ng:**
   ```
   DELETE /api/admin/users/{userId}
   Headers: Authorization: Bearer <admin_token>
   ```

5. **Xem chi tiáº¿t ngÆ°á»i dÃ¹ng:**
   ```
   GET /api/admin/users/{userId}
   Headers: Authorization: Bearer <admin_token>
   ```

ğŸ”¹ **VÃ­ dá»¥ sá»­ dá»¥ng vá»›i curl:**

```bash
# Láº¥y danh sÃ¡ch ngÆ°á»i dÃ¹ng
curl -X GET "http://localhost:5127/api/admin/users" \
  -H "Authorization: Bearer YOUR_ADMIN_TOKEN"

# Thay Ä‘á»•i role user thÃ nh Admin
curl -X PUT "http://localhost:5127/api/admin/users/USER_ID/role" \
  -H "Authorization: Bearer YOUR_ADMIN_TOKEN" \
  -H "Content-Type: application/json" \
  -d '{"role": "Admin"}'

# XÃ³a ngÆ°á»i dÃ¹ng
curl -X DELETE "http://localhost:5127/api/admin/users/USER_ID" \
  -H "Authorization: Bearer YOUR_ADMIN_TOKEN"
```

ğŸ”§ Cáº¤U TRÃšC Ká»¸ THUáº¬T
===================

ğŸ”¹ **Backend (.NET):**
- âœ… ThÃªm cá»™t `Role` vÃ o báº£ng `Users`
- âœ… Táº¡o `AdminController` vá»›i Ä‘áº§y Ä‘á»§ API
- âœ… Tá»± Ä‘á»™ng táº¡o admin user khi khá»Ÿi Ä‘á»™ng
- âœ… Kiá»ƒm tra quyá»n Admin cho táº¥t cáº£ endpoints
- âœ… Validation vÃ  error handling

ğŸ”¹ **Frontend (Flutter):**
- âœ… Model `AdminUser`, `AdminStats`
- âœ… Service `AdminService` Ä‘á»ƒ gá»i API
- âœ… Provider `AdminNotifier` Ä‘á»ƒ quáº£n lÃ½ state
- âœ… Screen `AdminDashboardScreen` - trang chá»§ admin
- âœ… Screen `UserManagementScreen` - quáº£n lÃ½ ngÆ°á»i dÃ¹ng
- âœ… Screen `AdminStatsScreen` - thá»‘ng kÃª chi tiáº¿t
- âœ… TÃ­ch há»£p vÃ o `ProfileTab` vá»›i Ä‘iá»u kiá»‡n role

ğŸ”¹ **Database:**
- âœ… Cá»™t `Role` vá»›i constraint `IN ('Admin','User')`
- âœ… Default value lÃ  'User'
- âœ… Migration Ä‘Ã£ Ä‘Æ°á»£c Ã¡p dá»¥ng

ğŸš€ CÃCH TEST TÃNH NÄ‚NG
=====================

ğŸ”¹ **Test 1: ÄÄƒng nháº­p Admin**
1. Cháº¡y backend: `cd MoviePlusBackend\MoviePlusApi && dotnet run`
2. Cháº¡y Flutter: `flutter run -d chrome`
3. ÄÄƒng nháº­p vá»›i admin@gmail.com / Admin@123
4. VÃ o Profile tab, kiá»ƒm tra cÃ³ nÃºt "Admin Dashboard"

ğŸ”¹ **Test 2: Quáº£n lÃ½ ngÆ°á»i dÃ¹ng**
1. Táº¡o tÃ i khoáº£n user thÆ°á»ng
2. ÄÄƒng nháº­p vá»›i admin
3. VÃ o Admin Dashboard > User Management
4. TÃ¬m user vá»«a táº¡o vÃ  thay Ä‘á»•i role thÃ nh Admin
5. ÄÄƒng xuáº¥t admin, Ä‘Äƒng nháº­p vá»›i user Ä‘Ã³
6. Kiá»ƒm tra user Ä‘Ã³ cÃ³ nÃºt Admin Dashboard

ğŸ”¹ **Test 3: API trá»±c tiáº¿p**
1. ÄÄƒng nháº­p admin vÃ  láº¥y token
2. Test API vá»›i Postman hoáº·c curl
3. Kiá»ƒm tra response vÃ  error handling

âš ï¸ LÆ¯U Ã QUAN TRá»ŒNG
==================

ğŸ”¹ **Báº£o máº­t:**
- Chá»‰ user cÃ³ role "Admin" má»›i truy cáº­p Ä‘Æ°á»£c Admin Dashboard
- Admin khÃ´ng thá»ƒ xÃ³a hoáº·c thay Ä‘á»•i role cá»§a chÃ­nh mÃ¬nh
- Táº¥t cáº£ API admin Ä‘á»u yÃªu cáº§u authentication

ğŸ”¹ **Performance:**
- API cÃ³ pagination cho danh sÃ¡ch ngÆ°á»i dÃ¹ng
- Caching cho thá»‘ng kÃª (cÃ³ thá»ƒ implement sau)
- Error handling Ä‘áº§y Ä‘á»§

ğŸ”¹ **UI/UX:**
- Giao diá»‡n admin cÃ³ mÃ u Ä‘á» Ä‘á»ƒ phÃ¢n biá»‡t
- Responsive design cho mobile vÃ  web
- Loading states vÃ  error handling

ğŸ‰ Káº¾T LUáº¬N
===========

TÃ­nh nÄƒng Admin Ä‘Ã£ Ä‘Æ°á»£c hoÃ n thiá»‡n vá»›i Ä‘áº§y Ä‘á»§ chá»©c nÄƒng:
- âœ… PhÃ¢n quyá»n Admin/User
- âœ… Quáº£n lÃ½ ngÆ°á»i dÃ¹ng
- âœ… Thá»‘ng kÃª há»‡ thá»‘ng
- âœ… Báº£o máº­t vÃ  validation
- âœ… Giao diá»‡n thÃ¢n thiá»‡n

Há»‡ thá»‘ng sáºµn sÃ ng cho production vá»›i tÃ i khoáº£n admin máº·c Ä‘á»‹nh!

---
ğŸ“… Táº¡o ngÃ y: $(Get-Date)
ğŸ‘¨â€ğŸ’» TÃ¡c giáº£: AI Assistant
ğŸ¯ Má»¥c Ä‘Ã­ch: HÆ°á»›ng dáº«n sá»­ dá»¥ng tÃ­nh nÄƒng Admin
